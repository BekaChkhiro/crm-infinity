import React, { useState, useEffect } from 'react';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';
import { Badge } from '@/components/ui/badge';
import { Button } from '@/components/ui/button';
import { Progress } from '@/components/ui/progress';
import { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';
import { Calendar } from '@/components/ui/calendar';
import {
  LineChart,
  Line,
  XAxis,
  YAxis,
  CartesianGrid,
  Tooltip,
  ResponsiveContainer,
  PieChart,
  Pie,
  Cell,
  BarChart,
  Bar
} from 'recharts';
import { 
  Clock,
  Target,
  TrendingUp,
  CheckCircle,
  AlertCircle,
  Calendar as CalendarIcon,
  Flame,
  Trophy,
  Star,
  Activity,
  Timer,
  BookOpen,
  Coffee
} from 'lucide-react';
import { supabase } from '@/integrations/supabase/client';
import { useAuth } from '@/contexts/AuthContext';
import { useToast } from '@/hooks/use-toast';

interface PersonalStats {
  tasksCompleted: number;
  tasksInProgress: number;
  overdueTasks: number;
  completionRate: number;
  averageCompletionTime: number;
  productivityScore: number;
  streakDays: number;
  totalTimeSpent: number;
}

interface TasksByPriority {
  name: string;
  value: number;
  color: string;
}

interface WeeklyProgress {
  day: string;
  completed: number;
  created: number;
}

interface Achievement {
  id: string;
  title: string;
  description: string;
  icon: string;
  unlocked: boolean;
  progress: number;
  maxProgress: number;
}

const COLORS = ['#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4', '#FFEAA7'];

export function AdvancedUserDashboard() {
  const [stats, setStats] = useState<PersonalStats>({
    tasksCompleted: 0,
    tasksInProgress: 0,
    overdueTasks: 0,
    completionRate: 0,
    averageCompletionTime: 0,
    productivityScore: 0,
    streakDays: 0,
    totalTimeSpent: 0
  });
  const [tasksByPriority, setTasksByPriority] = useState<TasksByPriority[]>([]);
  const [weeklyProgress, setWeeklyProgress] = useState<WeeklyProgress[]>([]);
  const [achievements, setAchievements] = useState<Achievement[]>([]);
  const [selectedDate, setSelectedDate] = useState<Date | undefined>(new Date());
  const [loading, setLoading] = useState(true);
  const { user } = useAuth();
  const { toast } = useToast();

  useEffect(() => {
    if (user) {
      fetchDashboardData();
    }
  }, [user]);

  const fetchDashboardData = async () => {
    if (!user) return;
    
    setLoading(true);
    try {
      await Promise.all([
        fetchPersonalStats(),
        fetchPriorityDistribution(),
        fetchWeeklyData(),
        fetchAchievements()
      ]);
    } catch (error) {
      console.error('Error fetching dashboard data:', error);
      toast({
        variant: "destructive",
        title: "·É®·Éî·É™·Éì·Éù·Éõ·Éê",
        description: "·Éì·Éî·É®·Éë·Éù·É†·Éì·Éò·É° ·Éõ·Éù·Éú·Éê·É™·Éî·Éõ·Éî·Éë·Éò·É° ·É©·Éê·É¢·Éï·Éò·É†·Éó·Éï·Éê ·Éï·Éî·É† ·Éõ·Éù·ÉÆ·Éî·É†·ÉÆ·Éì·Éê"
      });
    } finally {
      setLoading(false);
    }
  };

  const fetchPersonalStats = async () => {
    if (!user) return;

    // ·Éë·Éù·Éö·Éù 30 ·Éì·É¶·Éò·É° ·Éõ·Éù·Éú·Éê·É™·Éî·Éõ·Éî·Éë·Éò
    const thirtyDaysAgo = new Date();
    thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30);

    // ·Éì·Éê·É°·É†·É£·Éö·Éî·Éë·É£·Éö·Éò tasks
    const { count: completedTasks } = await supabase
      .from('tasks')
      .select('*', { count: 'exact', head: true })
      .eq('assignee_id', user.id)
      .eq('status', 'completed')
      .gte('updated_at', thirtyDaysAgo.toISOString());

    // ·Éõ·Éò·Éõ·Éì·Éò·Éú·Éê·É†·Éî tasks
    const { count: inProgressTasks } = await supabase
      .from('tasks')
      .select('*', { count: 'exact', head: true })
      .eq('assignee_id', user.id)
      .in('status', ['in_progress', 'review']);

    // ·Éí·Éê·Éì·Éê·Éï·Éê·Éì·Éî·Éë·É£·Éö·Éò tasks
    const today = new Date().toISOString().split('T')[0];
    const { count: overdueTasks } = await supabase
      .from('tasks')
      .select('*', { count: 'exact', head: true })
      .eq('assignee_id', user.id)
      .neq('status', 'completed')
      .lt('due_date', today);

    // ·Éß·Éï·Éî·Éö·Éê task
    const { count: totalTasks } = await supabase
      .from('tasks')
      .select('*', { count: 'exact', head: true })
      .eq('assignee_id', user.id)
      .gte('created_at', thirtyDaysAgo.toISOString());

    // ·É®·Éî·Éì·Éî·Éí·Éî·Éë·Éò·É° ·Éí·Éê·Éõ·Éù·Éó·Éï·Éö·Éê
    const completionRate = totalTasks ? Math.round((completedTasks || 0) / totalTasks * 100) : 0;
    const averageCompletionTime = Math.floor(Math.random() * 48) + 12; // ·É°·Éò·Éõ·É£·Éö·Éê·É™·Éò·Éê
    const productivityScore = Math.min(completionRate + Math.floor(Math.random() * 20), 100);
    const streakDays = Math.floor(Math.random() * 15) + 1; // ·É°·Éò·Éõ·É£·Éö·Éê·É™·Éò·Éê
    const totalTimeSpent = Math.floor(Math.random() * 120) + 40; // ·É°·Éò·Éõ·É£·Éö·Éê·É™·Éò·Éê

    setStats({
      tasksCompleted: completedTasks || 0,
      tasksInProgress: inProgressTasks || 0,
      overdueTasks: overdueTasks || 0,
      completionRate,
      averageCompletionTime,
      productivityScore,
      streakDays,
      totalTimeSpent
    });
  };

  const fetchPriorityDistribution = async () => {
    if (!user) return;

    const priorities = ['high', 'medium', 'low'];
    const colors = ['#FF6B6B', '#4ECDC4', '#45B7D1'];
    const priorityData: TasksByPriority[] = [];

    for (let i = 0; i < priorities.length; i++) {
      const { count } = await supabase
        .from('tasks')
        .select('*', { count: 'exact', head: true })
        .eq('assignee_id', user.id)
        .eq('priority', priorities[i])
        .neq('status', 'completed');

      priorityData.push({
        name: priorities[i] === 'high' ? '·Éõ·Éê·É¶·Éê·Éö·Éò' : priorities[i] === 'medium' ? '·É°·Éê·É®·É£·Éê·Éö·Éù' : '·Éì·Éê·Éë·Éê·Éö·Éò',
        value: count || 0,
        color: colors[i]
      });
    }

    setTasksByPriority(priorityData);
  };

  const fetchWeeklyData = async () => {
    if (!user) return;

    const weekData: WeeklyProgress[] = [];
    const days = ['·Éù·É†·É®', '·É°·Éê·Éõ', '·Éù·Éó·ÉÆ', '·ÉÆ·É£·Éó', '·Éû·Éê·É†', '·É®·Éê·Éë', '·Éô·Éï·Éò'];

    for (let i = 6; i >= 0; i--) {
      const date = new Date();
      date.setDate(date.getDate() - i);
      const dateStr = date.toISOString().split('T')[0];

      const nextDate = new Date(date);
      nextDate.setDate(nextDate.getDate() + 1);

      // ·É®·Éî·É•·Éõ·Éú·Éò·Éö·Éò tasks
      const { count: created } = await supabase
        .from('tasks')
        .select('*', { count: 'exact', head: true })
        .eq('assignee_id', user.id)
        .gte('created_at', date.toISOString())
        .lt('created_at', nextDate.toISOString());

      // ·Éì·Éê·É°·É†·É£·Éö·Éî·Éë·É£·Éö·Éò tasks
      const { count: completed } = await supabase
        .from('tasks')
        .select('*', { count: 'exact', head: true })
        .eq('assignee_id', user.id)
        .eq('status', 'completed')
        .gte('updated_at', date.toISOString())
        .lt('updated_at', nextDate.toISOString());

      weekData.push({
        day: days[date.getDay() === 0 ? 6 : date.getDay() - 1],
        completed: completed || 0,
        created: created || 0
      });
    }

    setWeeklyProgress(weekData);
  };

  const fetchAchievements = async () => {
    // ·Éõ·Éò·É¶·É¨·Éî·Éï·Éî·Éë·Éò - ·É°·Éò·Éõ·É£·Éö·Éê·É™·Éò·Éê
    const userAchievements: Achievement[] = [
      {
        id: '1',
        title: '·Éû·Éò·É†·Éï·Éî·Éö·Éò ·Éú·Éê·Éë·Éò·ÉØ·Éò',
        description: '·Éû·Éò·É†·Éï·Éî·Éö·Éò Task-·Éò·É° ·Éì·Éê·É°·É†·É£·Éö·Éî·Éë·Éê',
        icon: 'üéØ',
        unlocked: stats.tasksCompleted > 0,
        progress: Math.min(stats.tasksCompleted, 1),
        maxProgress: 1
      },
      {
        id: '2',
        title: '·Éõ·É®·É†·Éù·Éõ·Éî·Éö·Éò',
        description: '10 Task-·Éò·É° ·Éì·Éê·É°·É†·É£·Éö·Éî·Éë·Éê',
        icon: '‚ö°',
        unlocked: stats.tasksCompleted >= 10,
        progress: Math.min(stats.tasksCompleted, 10),
        maxProgress: 10
      },
      {
        id: '3',
        title: '·Éî·É•·É°·Éû·Éî·É†·É¢·Éò',
        description: '50 Task-·Éò·É° ·Éì·Éê·É°·É†·É£·Éö·Éî·Éë·Éê',
        icon: 'üèÜ',
        unlocked: stats.tasksCompleted >= 50,
        progress: Math.min(stats.tasksCompleted, 50),
        maxProgress: 50
      },
      {
        id: '4',
        title: '·É©·Éê·Éõ·Éû·Éò·Éù·Éú·Éò',
        description: '7 ·Éì·É¶·Éò·Éê·Éú·Éò streak',
        icon: 'üî•',
        unlocked: stats.streakDays >= 7,
        progress: Math.min(stats.streakDays, 7),
        maxProgress: 7
      },
      {
        id: '5',
        title: '·Éû·Éî·É†·É§·Éî·É•·É™·Éò·Éù·Éú·Éò·É°·É¢·Éò',
        description: '95% ·Éì·Éê·É°·É†·É£·Éö·Éî·Éë·Éò·É° ·Éõ·Éê·É©·Éï·Éî·Éú·Éî·Éë·Éî·Éö·Éò',
        icon: 'üíé',
        unlocked: stats.completionRate >= 95,
        progress: Math.min(stats.completionRate, 95),
        maxProgress: 95
      }
    ];

    setAchievements(userAchievements);
  };

  const getProductivityEmoji = (score: number) => {
    if (score >= 90) return 'üöÄ';
    if (score >= 70) return '‚≠ê';
    if (score >= 50) return 'üëç';
    return 'üí™';
  };

  const getStreakEmoji = (days: number) => {
    if (days >= 10) return 'üî•üî•üî•';
    if (days >= 5) return 'üî•üî•';
    if (days >= 1) return 'üî•';
    return '‚ö™';
  };

  if (loading) {
    return (
      <div className="flex items-center justify-center h-64">
        <div className="animate-spin rounded-full h-8 w-8 border-b-2 border-primary"></div>
      </div>
    );
  }

  return (
    <div className="space-y-6">
      {/* ·Éõ·Éó·Éê·Éï·Éê·É†·Éò ·É°·É¢·Éê·É¢·Éò·É°·É¢·Éò·Éô·Éê */}
      <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
        <Card className="relative overflow-hidden">
          <CardHeader className="flex flex-row items-center justify-between space-y-0 pb-2">
            <CardTitle className="text-sm font-medium">·Éû·É†·Éù·Éì·É£·É•·É¢·Éò·É£·Éö·Éù·Éë·Éê</CardTitle>
            <div className="text-2xl">{getProductivityEmoji(stats.productivityScore)}</div>
          </CardHeader>
          <CardContent>
            <div className="text-2xl font-bold">{stats.productivityScore}%</div>
            <Progress value={stats.productivityScore} className="mt-2" />
            <p className="text-xs text-muted-foreground mt-1">
              ·Éë·Éù·Éö·Éù 30 ·Éì·É¶·Éò·É° ·Éõ·Éò·ÉÆ·Éî·Éì·Éï·Éò·Éó
            </p>
          </CardContent>
        </Card>

        <Card>
          <CardHeader className="flex flex-row items-center justify-between space-y-0 pb-2">
            <CardTitle className="text-sm font-medium">Streak</CardTitle>
            <div className="text-xl">{getStreakEmoji(stats.streakDays)}</div>
          </CardHeader>
          <CardContent>
            <div className="text-2xl font-bold">{stats.streakDays} ·Éì·É¶·Éî</div>
            <p className="text-xs text-muted-foreground">
              ·Éó·Éê·Éú·Éõ·Éò·Éõ·Éì·Éî·Éï·É†·É£·Éö·Éò ·Éõ·É£·É®·Éê·Éù·Éë·Éê
            </p>
          </CardContent>
        </Card>

        <Card>
          <CardHeader className="flex flex-row items-center justify-between space-y-0 pb-2">
            <CardTitle className="text-sm font-medium">·É°·Éê·É®·É£·Éê·Éö·Éù ·Éì·É†·Éù</CardTitle>
            <Timer className="h-4 w-4 text-muted-foreground" />
          </CardHeader>
          <CardContent>
            <div className="text-2xl font-bold">{stats.averageCompletionTime}·É°·Éó</div>
            <p className="text-xs text-muted-foreground">
              Task-·Éò·É° ·Éì·Éê·É°·É†·É£·Éö·Éî·Éë·Éê
            </p>
          </CardContent>
        </Card>

        <Card>
          <CardHeader className="flex flex-row items-center justify-between space-y-0 pb-2">
            <CardTitle className="text-sm font-medium">·ÉØ·Éê·Éõ·É£·É†·Éò ·Éì·É†·Éù</CardTitle>
            <Coffee className="h-4 w-4 text-muted-foreground" />
          </CardHeader>
          <CardContent>
            <div className="text-2xl font-bold">{stats.totalTimeSpent}·É°·Éó</div>
            <p className="text-xs text-muted-foreground">
              ·Éê·Éõ ·Éó·Éï·Éî
            </p>
          </CardContent>
        </Card>
      </div>

      <Tabs defaultValue="overview" className="space-y-4">
        <TabsList>
          <TabsTrigger value="overview">·Éõ·Éò·Éõ·Éù·ÉÆ·Éò·Éö·Éï·Éê</TabsTrigger>
          <TabsTrigger value="analytics">·Éê·Éú·Éê·Éö·Éò·É¢·Éò·Éô·Éê</TabsTrigger>
          <TabsTrigger value="achievements">·Éõ·Éò·É¶·É¨·Éî·Éï·Éî·Éë·Éò</TabsTrigger>
          <TabsTrigger value="calendar">·Éô·Éê·Éö·Éî·Éú·Éì·Éê·É†·Éò</TabsTrigger>
        </TabsList>

        <TabsContent value="overview" className="space-y-4">
          <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">
            {/* Tasks ·É°·É¢·Éê·É¢·É£·É°·Éò */}
            <Card>
              <CardHeader>
                <CardTitle>·Éì·Éê·Éï·Éê·Éö·Éî·Éë·Éî·Éë·Éò·É° ·É°·É¢·Éê·É¢·É£·É°·Éò</CardTitle>
              </CardHeader>
              <CardContent className="space-y-4">
                <div className="flex items-center justify-between">
                  <div className="flex items-center gap-2">
                    <CheckCircle className="h-4 w-4 text-green-500" />
                    <span className="text-sm">·Éì·Éê·É°·É†·É£·Éö·Éî·Éë·É£·Éö·Éò</span>
                  </div>
                  <Badge variant="secondary">{stats.tasksCompleted}</Badge>
                </div>
                <div className="flex items-center justify-between">
                  <div className="flex items-center gap-2">
                    <Clock className="h-4 w-4 text-blue-500" />
                    <span className="text-sm">·Éõ·Éò·Éõ·Éì·Éò·Éú·Éê·É†·Éî</span>
                  </div>
                  <Badge variant="outline">{stats.tasksInProgress}</Badge>
                </div>
                <div className="flex items-center justify-between">
                  <div className="flex items-center gap-2">
                    <AlertCircle className="h-4 w-4 text-red-500" />
                    <span className="text-sm">·Éí·Éê·Éì·Éê·Éï·Éê·Éì·Éî·Éë·É£·Éö·Éò</span>
                  </div>
                  <Badge variant="destructive">{stats.overdueTasks}</Badge>
                </div>
              </CardContent>
            </Card>

            {/* ·Éû·É†·Éò·Éù·É†·Éò·É¢·Éî·É¢·Éò·É° ·Éí·Éê·Éú·Éê·É¨·Éò·Éö·Éî·Éë·Éê */}
            <Card>
              <CardHeader>
                <CardTitle>·Éû·É†·Éò·Éù·É†·Éò·É¢·Éî·É¢·Éò·É° ·Éí·Éê·Éú·Éê·É¨·Éò·Éö·Éî·Éë·Éê</CardTitle>
              </CardHeader>
              <CardContent>
                <ResponsiveContainer width="100%" height={200}>
                  <PieChart>
                    <Pie
                      data={tasksByPriority}
                      cx="50%"
                      cy="50%"
                      innerRadius={60}
                      outerRadius={80}
                      paddingAngle={5}
                      dataKey="value"
                    >
                      {tasksByPriority.map((entry, index) => (
                        <Cell key={`cell-${index}`} fill={entry.color} />
                      ))}
                    </Pie>
                    <Tooltip />
                  </PieChart>
                </ResponsiveContainer>
                <div className="space-y-2 mt-4">
                  {tasksByPriority.map((item, index) => (
                    <div key={index} className="flex items-center gap-2 text-sm">
                      <div 
                        className="w-3 h-3 rounded-full" 
                        style={{ backgroundColor: item.color }}
                      />
                      <span>{item.name}: {item.value}</span>
                    </div>
                  ))}
                </div>
              </CardContent>
            </Card>

            {/* ·Éô·Éï·Éò·É†·Éò·É° ·Éû·É†·Éù·Éí·É†·Éî·É°·Éò */}
            <Card>
              <CardHeader>
                <CardTitle>·Éô·Éï·Éò·É†·Éò·É° ·Éê·É•·É¢·Éò·Éï·Éù·Éë·Éê</CardTitle>
              </CardHeader>
              <CardContent>
                <ResponsiveContainer width="100%" height={200}>
                  <BarChart data={weeklyProgress}>
                    <CartesianGrid strokeDasharray="3 3" />
                    <XAxis dataKey="day" />
                    <YAxis />
                    <Tooltip />
                    <Bar dataKey="completed" fill="#8884d8" name="·Éì·Éê·É°·É†·É£·Éö·Éî·Éë·É£·Éö·Éò" />
                    <Bar dataKey="created" fill="#82ca9d" name="·É®·Éî·É•·Éõ·Éú·Éò·Éö·Éò" />
                  </BarChart>
                </ResponsiveContainer>
              </CardContent>
            </Card>
          </div>
        </TabsContent>

        <TabsContent value="analytics" className="space-y-4">
          <Card>
            <CardHeader>
              <CardTitle>·Éì·Éî·É¢·Éê·Éö·É£·É†·Éò ·Éê·Éú·Éê·Éö·Éò·É¢·Éò·Éô·Éê</CardTitle>
            </CardHeader>
            <CardContent>
              <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div className="text-center p-6 bg-gradient-to-r from-blue-50 to-blue-100 rounded-lg">
                  <Activity className="h-8 w-8 mx-auto mb-2 text-blue-600" />
                  <div className="text-2xl font-bold text-blue-600">{stats.completionRate}%</div>
                  <p className="text-sm text-blue-600">·Éì·Éê·É°·É†·É£·Éö·Éî·Éë·Éò·É° ·ÉÆ·Éê·É†·Éò·É°·ÉÆ·Éò</p>
                </div>
                <div className="text-center p-6 bg-gradient-to-r from-green-50 to-green-100 rounded-lg">
                  <Target className="h-8 w-8 mx-auto mb-2 text-green-600" />
                  <div className="text-2xl font-bold text-green-600">{stats.tasksCompleted}</div>
                  <p className="text-sm text-green-600">·Éì·Éê·É°·É†·É£·Éö·Éî·Éë·É£·Éö·Éò Tasks</p>
                </div>
                <div className="text-center p-6 bg-gradient-to-r from-purple-50 to-purple-100 rounded-lg">
                  <Flame className="h-8 w-8 mx-auto mb-2 text-purple-600" />
                  <div className="text-2xl font-bold text-purple-600">{stats.streakDays}</div>
                  <p className="text-sm text-purple-600">·Éì·É¶·Éî Streak</p>
                </div>
              </div>
            </CardContent>
          </Card>
        </TabsContent>

        <TabsContent value="achievements" className="space-y-4">
          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
            {achievements.map((achievement) => (
              <Card 
                key={achievement.id} 
                className={`transition-all ${achievement.unlocked ? 'border-green-200 shadow-md' : 'opacity-60'}`}
              >
                <CardContent className="p-6 text-center">
                  <div className="text-4xl mb-2">{achievement.icon}</div>
                  <h3 className="font-semibold mb-1">{achievement.title}</h3>
                  <p className="text-sm text-muted-foreground mb-3">
                    {achievement.description}
                  </p>
                  <Progress 
                    value={(achievement.progress / achievement.maxProgress) * 100} 
                    className="mb-2" 
                  />
                  <p className="text-xs text-muted-foreground">
                    {achievement.progress}/{achievement.maxProgress}
                  </p>
                  {achievement.unlocked && (
                    <Badge className="mt-2" variant="default">
                      ·Éõ·Éò·É¶·Éî·Éë·É£·Éö·Éò·Éê! üéâ
                    </Badge>
                  )}
                </CardContent>
              </Card>
            ))}
          </div>
        </TabsContent>

        <TabsContent value="calendar" className="space-y-4">
          <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
            <Card>
              <CardHeader>
                <CardTitle>·Éô·Éê·Éö·Éî·Éú·Éì·Éê·É†·Éò</CardTitle>
              </CardHeader>
              <CardContent>
                <Calendar
                  mode="single"
                  selected={selectedDate}
                  onSelect={setSelectedDate}
                  className="rounded-md border"
                />
              </CardContent>
            </Card>
            <Card>
              <CardHeader>
                <CardTitle>
                  {selectedDate ? selectedDate.toLocaleDateString('ka-GE') : '·Éì·É¶·Éî·É°'} ·Éì·Éê·Éí·Éî·Éí·Éõ·Éò·Éö·Éò
                </CardTitle>
              </CardHeader>
              <CardContent>
                <div className="space-y-3">
                  <div className="flex items-center gap-3 p-3 bg-blue-50 rounded-lg">
                    <Clock className="h-4 w-4 text-blue-600" />
                    <div>
                      <p className="font-medium">·Éí·É£·Éú·Éì·Éò·É° ·É®·Éî·ÉÆ·Éï·Éî·Éì·É†·Éê</p>
                      <p className="text-sm text-muted-foreground">10:00 - 11:00</p>
                    </div>
                  </div>
                  <div className="flex items-center gap-3 p-3 bg-green-50 rounded-lg">
                    <Target className="h-4 w-4 text-green-600" />
                    <div>
                      <p className="font-medium">·Éû·É†·Éù·Éî·É•·É¢·Éò·É° ·Éí·Éê·Éì·Éê·ÉÆ·Éî·Éì·Éï·Éê</p>
                      <p className="text-sm text-muted-foreground">14:00 - 15:30</p>
                    </div>
                  </div>
                  <div className="flex items-center gap-3 p-3 bg-orange-50 rounded-lg">
                    <BookOpen className="h-4 w-4 text-orange-600" />
                    <div>
                      <p className="font-medium">·Éô·Éù·Éì·Éò·É° ·É†·Éî·Éï·Éò·É£</p>
                      <p className="text-sm text-muted-foreground">16:00 - 17:00</p>
                    </div>
                  </div>
                </div>
              </CardContent>
            </Card>
          </div>
        </TabsContent>
      </Tabs>
    </div>
  );
}